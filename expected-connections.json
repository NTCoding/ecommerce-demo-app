{
  "_comment": "Ground truth connections for ecommerce-demo-app. Verified by manual code inspection. This is a SPECIFICATION of what the extraction tool SHOULD detect, not a record of what it currently does. Verification failures indicate product gaps in the extraction tool that must be fixed.",
  "links": [
    { "source": "shipping:useCase:UpdateTrackingUseCase", "target": "shipping:eventPublisher:ShippingEventPublisher", "type": "sync" },
    { "source": "shipping:eventHandler:OrderConfirmedHandler", "target": "shipping:useCase:CreateShipmentUseCase", "type": "sync" },
    { "source": "shipping:useCase:CreateShipmentUseCase", "target": "shipping:domainOp:Shipment", "type": "sync" },
    { "source": "shipping:useCase:CreateShipmentUseCase", "target": "shipping:eventPublisher:ShippingEventPublisher", "type": "sync" },
    { "source": "shipping:api:DispatchShipmentEndpoint", "target": "shipping:useCase:DispatchShipmentUseCase", "type": "sync" },
    { "source": "shipping:api:DispatchShipmentEndpoint", "target": "shipping:domainOp:Shipment", "type": "sync" },
    { "source": "shipping:useCase:DispatchShipmentUseCase", "target": "shipping:domainOp:Shipment", "type": "sync" },
    { "source": "shipping:useCase:DispatchShipmentUseCase", "target": "shipping:eventPublisher:ShippingEventPublisher", "type": "sync" },
    { "source": "inventory:eventHandler:ShipmentCreatedHandler", "target": "inventory:useCase:AllocateInventoryUseCase", "type": "sync" },
    { "source": "inventory:useCase:AllocateInventoryUseCase", "target": "inventory:domainOp:InventoryItem", "type": "sync" },
    { "source": "inventory:eventHandler:OrderPlacedHandler", "target": "inventory:useCase:ReserveInventoryUseCase", "type": "sync" },
    { "source": "inventory:useCase:ReserveInventoryUseCase", "target": "inventory:domainOp:InventoryItem", "type": "sync" },
    { "source": "inventory:useCase:ReserveInventoryUseCase", "target": "inventory:eventPublisher:InventoryEventPublisher", "type": "sync" },
    { "source": "inventory:eventHandler:OrderCancelledHandler", "target": "inventory:useCase:ReleaseInventoryUseCase", "type": "sync" },
    { "source": "inventory:useCase:ReleaseInventoryUseCase", "target": "inventory:domainOp:InventoryItem", "type": "sync" },
    { "source": "inventory:api:CheckStockEndpoint", "target": "inventory:useCase:CheckStockUseCase", "type": "sync" },
    { "source": "inventory:useCase:CheckStockUseCase", "target": "inventory:domainOp:InventoryItem", "type": "sync" },
    { "source": "payment:eventHandler:OrderPlacedHandler", "target": "payment:useCase:ProcessPaymentUseCase", "type": "sync" },
    { "source": "payment:useCase:ProcessPaymentUseCase", "target": "payment:domainOp:Payment", "type": "sync" },
    { "source": "payment:useCase:ProcessPaymentUseCase", "target": "payment:eventPublisher:PaymentEventPublisher", "type": "sync" },
    { "source": "payment:eventHandler:OrderCancelledHandler", "target": "payment:useCase:RefundPaymentUseCase", "type": "sync" },
    { "source": "payment:useCase:RefundPaymentUseCase", "target": "payment:domainOp:Payment", "type": "sync" },
    { "source": "payment:useCase:RefundPaymentUseCase", "target": "payment:eventPublisher:PaymentEventPublisher", "type": "sync" },
    { "source": "notifications:eventHandler:ShipmentDispatchedHandler", "target": "notifications:useCase:NotifyShipmentDispatchedUseCase", "type": "sync" },
    { "source": "notifications:useCase:NotifyShipmentDispatchedUseCase", "target": "notifications:domainOp:Notification", "type": "sync" },
    { "source": "notifications:eventHandler:ShipmentDeliveredHandler", "target": "notifications:useCase:NotifyShipmentDeliveredUseCase", "type": "sync" },
    { "source": "notifications:useCase:NotifyShipmentDeliveredUseCase", "target": "notifications:domainOp:Notification", "type": "sync" },
    { "source": "notifications:eventHandler:PaymentCompletedHandler", "target": "notifications:useCase:NotifyPaymentCompletedUseCase", "type": "sync" },
    { "source": "notifications:useCase:NotifyPaymentCompletedUseCase", "target": "notifications:domainOp:Notification", "type": "sync" },
    { "source": "notifications:eventHandler:OrderPlacedHandler", "target": "notifications:useCase:NotifyOrderPlacedUseCase", "type": "sync" },
    { "source": "notifications:useCase:NotifyOrderPlacedUseCase", "target": "notifications:domainOp:Notification", "type": "sync" },
    { "source": "bff:api:PlaceOrderBFFEndpoint", "target": "bff:useCase:PlaceOrderBFFUseCase", "type": "sync" },

    { "source": "orders:api:handle", "target": "orders:useCase:PlaceOrderUseCase", "type": "sync" },
    { "source": "orders:api:handle", "target": "orders:useCase:CancelOrderUseCase", "type": "sync" },
    { "source": "orders:useCase:PlaceOrderUseCase", "target": "orders:domainOp:begin", "type": "sync" },
    { "source": "orders:useCase:PlaceOrderUseCase", "target": "orders:eventPublisher:publishOrderPlaced", "type": "sync" },
    { "source": "orders:useCase:CancelOrderUseCase", "target": "orders:domainOp:cancel", "type": "sync" },
    { "source": "orders:useCase:CancelOrderUseCase", "target": "orders:eventPublisher:publishOrderCancelled", "type": "sync" },
    { "source": "orders:eventHandler:handle", "target": "orders:useCase:ShipOrderUseCase", "type": "sync" },
    { "source": "orders:useCase:ShipOrderUseCase", "target": "orders:domainOp:ship", "type": "sync" },
    { "source": "orders:eventHandler:handle", "target": "orders:useCase:CompleteOrderUseCase", "type": "sync" },
    { "source": "orders:useCase:CompleteOrderUseCase", "target": "orders:domainOp:deliver", "type": "sync" },
    { "source": "orders:eventHandler:handle", "target": "orders:useCase:CancelOrderAfterPaymentFailureUseCase", "type": "sync" },
    { "source": "orders:useCase:CancelOrderAfterPaymentFailureUseCase", "target": "orders:domainOp:cancel", "type": "sync" },
    { "source": "orders:useCase:CancelOrderAfterPaymentFailureUseCase", "target": "orders:eventPublisher:publishOrderCancelled", "type": "sync" },
    { "source": "orders:eventHandler:handle", "target": "orders:useCase:ConfirmOrderAfterPaymentUseCase", "type": "sync" },
    { "source": "orders:useCase:ConfirmOrderAfterPaymentUseCase", "target": "orders:domainOp:markPaymentCompleted", "type": "sync" },
    { "source": "orders:useCase:ConfirmOrderAfterPaymentUseCase", "target": "orders:eventPublisher:publishOrderConfirmed", "type": "sync" },
    { "source": "orders:eventHandler:handle", "target": "orders:useCase:ConfirmOrderAfterInventoryUseCase", "type": "sync" },
    { "source": "orders:useCase:ConfirmOrderAfterInventoryUseCase", "target": "orders:domainOp:markInventoryReserved", "type": "sync" },

    { "source": "shipping:backgroundJob:runTrackingUpdate", "target": "shipping:useCase:UpdateTrackingUseCase", "type": "sync" },
    { "source": "shipping:useCase:UpdateTrackingUseCase", "target": "shipping:domainOp:Shipment", "type": "sync" },

    { "source": "orders:eventPublisher:publishOrderPlaced", "target": "orders:event:OrderPlaced", "type": "async" },
    { "source": "orders:eventPublisher:publishOrderConfirmed", "target": "orders:event:OrderConfirmed", "type": "async" },
    { "source": "orders:eventPublisher:publishOrderCancelled", "target": "orders:event:OrderCancelled", "type": "async" },
    { "source": "shipping:eventPublisher:ShippingEventPublisher", "target": "shipping:event:ShipmentCreated", "type": "async" },
    { "source": "shipping:eventPublisher:ShippingEventPublisher", "target": "shipping:event:ShipmentDispatched", "type": "async" },
    { "source": "shipping:eventPublisher:ShippingEventPublisher", "target": "shipping:event:ShipmentDelivered", "type": "async" },
    { "source": "inventory:eventPublisher:InventoryEventPublisher", "target": "inventory:event:InventoryReserved", "type": "async" },
    { "source": "payment:eventPublisher:PaymentEventPublisher", "target": "payment:event:PaymentCompleted", "type": "async" },
    { "source": "payment:eventPublisher:PaymentEventPublisher", "target": "payment:event:PaymentFailed", "type": "async" },
    { "source": "payment:eventPublisher:PaymentEventPublisher", "target": "payment:event:PaymentRefunded", "type": "async" },

    { "source": "shipping:event:ShipmentDispatched", "target": "orders:eventHandler:handle", "type": "async" },
    { "source": "shipping:event:ShipmentDelivered", "target": "orders:eventHandler:handle", "type": "async" },
    { "source": "payment:event:PaymentFailed", "target": "orders:eventHandler:handle", "type": "async" },
    { "source": "payment:event:PaymentCompleted", "target": "orders:eventHandler:handle", "type": "async" },
    { "source": "inventory:event:InventoryReserved", "target": "orders:eventHandler:handle", "type": "async" },
    { "source": "orders:event:OrderConfirmed", "target": "shipping:eventHandler:OrderConfirmedHandler", "type": "async" },
    { "source": "shipping:event:ShipmentCreated", "target": "inventory:eventHandler:ShipmentCreatedHandler", "type": "async" },
    { "source": "orders:event:OrderPlaced", "target": "inventory:eventHandler:OrderPlacedHandler", "type": "async" },
    { "source": "orders:event:OrderCancelled", "target": "inventory:eventHandler:OrderCancelledHandler", "type": "async" },
    { "source": "orders:event:OrderPlaced", "target": "payment:eventHandler:OrderPlacedHandler", "type": "async" },
    { "source": "orders:event:OrderCancelled", "target": "payment:eventHandler:OrderCancelledHandler", "type": "async" },
    { "source": "shipping:event:ShipmentDispatched", "target": "notifications:eventHandler:ShipmentDispatchedHandler", "type": "async" },
    { "source": "shipping:event:ShipmentDelivered", "target": "notifications:eventHandler:ShipmentDeliveredHandler", "type": "async" },
    { "source": "payment:event:PaymentCompleted", "target": "notifications:eventHandler:PaymentCompletedHandler", "type": "async" },
    { "source": "orders:event:OrderPlaced", "target": "notifications:eventHandler:OrderPlacedHandler", "type": "async" }
  ]
}
