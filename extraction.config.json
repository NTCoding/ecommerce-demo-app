{
  "$schema": "https://living-architecture.dev/schemas/extraction-config.schema.json",
  "modules": [
    {
      "name": "orders",
      "path": "orders-domain/src/**/*.ts",
      "extends": "@living-architecture/riviere-extract-conventions"
    },
    {
      "name": "shipping",
      "path": "shipping-domain/src/**/*.ts",
      "useCase": {
        "find": "classes",
        "where": { "hasJSDoc": { "tag": "useCase" } }
      },
      "eventHandler": {
        "find": "functions",
        "where": { "hasJSDoc": { "tag": "eventHandler" } }
      },
      "domainOp": {
        "find": "classes",
        "where": { "hasJSDoc": { "tag": "domainOp" } }
      },
      "api": {
        "find": "functions",
        "where": { "hasJSDoc": { "tag": "api" } }
      },
      "event": {
        "find": "classes",
        "where": { "hasJSDoc": { "tag": "event" } }
      },
      "ui": { "notUsed": true }
    },
    {
      "name": "inventory",
      "path": "inventory-domain/src/**/*.ts",
      "useCase": {
        "find": "classes",
        "where": { "hasDecorator": { "name": "StockUseCase" } }
      },
      "eventHandler": {
        "find": "classes",
        "where": { "hasDecorator": { "name": "StockHandler" } }
      },
      "domainOp": {
        "find": "classes",
        "where": { "hasDecorator": { "name": "StockOp" } }
      },
      "api": {
        "find": "classes",
        "where": { "hasDecorator": { "name": "StockAPI" } }
      },
      "event": {
        "find": "classes",
        "where": { "hasDecorator": { "name": "StockEvent" } }
      },
      "ui": { "notUsed": true }
    },
    {
      "name": "payment",
      "path": "payment-domain/src/**/*.ts",
      "useCase": {
        "find": "classes",
        "where": { "implementsInterface": { "name": "IPaymentUseCase" } }
      },
      "eventHandler": {
        "find": "classes",
        "where": { "implementsInterface": { "name": "IPaymentEventHandler" } }
      },
      "domainOp": {
        "find": "classes",
        "where": { "implementsInterface": { "name": "IPaymentDomainOp" } }
      },
      "api": { "notUsed": true },
      "event": {
        "find": "classes",
        "where": { "implementsInterface": { "name": "IPaymentEvent" } }
      },
      "ui": { "notUsed": true }
    },
    {
      "name": "notifications",
      "path": "notifications-domain/src/**/*.ts",
      "useCase": {
        "find": "classes",
        "where": { "extendsClass": { "name": "BaseNotificationUseCase" } }
      },
      "eventHandler": {
        "find": "classes",
        "where": { "nameMatches": { "pattern": "^(?!Base).+Handler$" } }
      },
      "domainOp": {
        "find": "classes",
        "where": { "extendsClass": { "name": "BaseNotificationDomainOp" } }
      },
      "api": { "notUsed": true },
      "event": { "notUsed": true },
      "ui": { "notUsed": true }
    },
    {
      "name": "bff",
      "path": "bff/src/**/*.ts",
      "useCase": {
        "find": "classes",
        "where": { "nameEndsWith": { "suffix": "UseCase" } }
      },
      "eventHandler": { "notUsed": true },
      "domainOp": { "notUsed": true },
      "api": {
        "find": "functions",
        "where": { "hasJSDoc": { "tag": "bffApi" } }
      },
      "event": { "notUsed": true },
      "ui": { "notUsed": true }
    },
    {
      "name": "ui",
      "path": "ui/src/**/*.tsx",
      "useCase": { "notUsed": true },
      "eventHandler": { "notUsed": true },
      "domainOp": { "notUsed": true },
      "api": { "notUsed": true },
      "event": { "notUsed": true },
      "ui": {
        "find": "functions",
        "where": { "nameEndsWith": { "suffix": "Page" } }
      }
    }
  ]
}
